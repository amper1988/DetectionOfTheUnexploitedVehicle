package com.belspec.detectionoftheunexploitedvehicle;

import android.app.Fragment;
import android.content.Context;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AutoCompleteTextView;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.Switch;
import com.belspec.detectionoftheunexploitedvehicle.Interface.DetectionRegisterListener;


public class DetectionFragment extends Fragment implements View.OnClickListener{
    AutoCompleteTextView actvManufacture;
    AutoCompleteTextView actvModel;
    Spinner spnContractor;
    Spinner spnPoliceDepartment;
    EditText edtVIN;
    EditText edtCarID;
    EditText edtColor;
    EditText edtStreet;
    Switch swTypeVehicle;
    Button btnRegistrate;
    private DetectionRegisterListener lsnr;

    public void setDetectionRegisterListener(DetectionRegisterListener lsnr){
        this.lsnr = lsnr;
    }

    @Override
    public View onCreateView(LayoutInflater inflater,  ViewGroup container, Bundle savedInstanceState) {
        return  inflater.inflate(R.layout.detection_fragment, null);

    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        initViews();
        initComponents();
    }

    private void initViews(){
        actvManufacture = (AutoCompleteTextView) getView().findViewById(R.id.actvManufacture);
        actvModel = (AutoCompleteTextView) getView().findViewById(R.id.actvModel);
        spnContractor = (Spinner) getView().findViewById(R.id.spnContractor);
        spnPoliceDepartment = (Spinner) getView().findViewById(R.id.spnPoliceDepartment);
        btnRegistrate = (Button)getView().findViewById(R.id.btnRegister);
        edtCarID = (EditText)getView().findViewById(R.id.edtCarID);
        edtVIN = (EditText)getView().findViewById(R.id.edtVIN);
        edtStreet = (EditText)getView().findViewById(R.id.edtStreet);
        btnRegistrate.setOnClickListener(this);
        swTypeVehicle = (Switch)getView().findViewById(R.id.swType);
        edtColor = (EditText)getView().findViewById(R.id.edtColor);


    }

    private void initComponents(){
        actvManufacture.setText("");
        actvModel.setText("");
        edtCarID.setText("");
        edtStreet.setText("");
        edtVIN.setText("");
        edtColor.setText("");
        swTypeVehicle.setChecked(false);
    }


    @Override
    public void onAttach(Context context) {
        super.onAttach(context);

    }

    @Override
    public void onClick(View view) {
        if (this.lsnr != null){
            lsnr.registration();
        }else {

        }

    }
}
