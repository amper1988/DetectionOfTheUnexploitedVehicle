package com.belspec.detectionoftheunexploitedvehicle;

import android.app.Fragment;
import android.content.Context;
import android.graphics.Bitmap;
import android.os.Bundle;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AutoCompleteTextView;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.NumberPicker;
import android.widget.Spinner;
import android.widget.Switch;
import com.belspec.detectionoftheunexploitedvehicle.Interface.DetectionRegisterListener;

import java.nio.BufferUnderflowException;
import java.util.List;


public class DetectionFragment extends Fragment implements View.OnClickListener{
    AutoCompleteTextView actvManufacture;
    AutoCompleteTextView actvModel;
    Spinner spnContractor;
    Spinner spnPoliceDepartment;
    EditText edtVIN;
    EditText edtCarID;
    EditText edtColor;
    EditText edtStreet;
    Switch swTypeVehicle;
    Button btnRegistrate;
    RecyclerView rvImageList;
    Button btnAddImage;
    private DetectionRegisterListener lsnr;

    public void setDetectionRegisterListener(DetectionRegisterListener lsnr){
        this.lsnr = lsnr;
    }

    @Override
    public View onCreateView(LayoutInflater inflater,  ViewGroup container, Bundle savedInstanceState) {
        return  inflater.inflate(R.layout.detection_fragment, null);

    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        initViews();
        clearComponents();
    }

    private void initViews(){
        actvManufacture = (AutoCompleteTextView) getView().findViewById(R.id.actvManufacture);
        actvModel = (AutoCompleteTextView) getView().findViewById(R.id.actvModel);
        spnContractor = (Spinner) getView().findViewById(R.id.spnContractor);
        spnPoliceDepartment = (Spinner) getView().findViewById(R.id.spnPoliceDepartment);
        btnRegistrate = (Button)getView().findViewById(R.id.btnRegister);
        edtCarID = (EditText)getView().findViewById(R.id.edtCarID);
        edtVIN = (EditText)getView().findViewById(R.id.edtVIN);
        edtStreet = (EditText)getView().findViewById(R.id.edtStreet);
        btnRegistrate.setOnClickListener(this);
        swTypeVehicle = (Switch)getView().findViewById(R.id.swType);
        edtColor = (EditText)getView().findViewById(R.id.edtColor);
        rvImageList = (RecyclerView)getView().findViewById(R.id.rvImageList);
        btnAddImage = (Button)getView().findViewById(R.id.btnAddImage);
        btnAddImage.setOnClickListener(this);

    }

    public void clearComponents() {
        if (actvManufacture != null){
            actvManufacture.setText("");
        }
        if (actvModel != null){
            actvModel.setText("");
        }
        if (edtCarID != null) {
            edtCarID.setText("");
        }
        if (edtStreet!=null){
            edtStreet.setText("");
        }
        if(edtVIN!=null){
            edtVIN.setText("");
        }
        if(edtColor!=null){
            edtColor.setText("");
        }
        if (swTypeVehicle!= null){
            swTypeVehicle.setChecked(false);
        }
        if (rvImageList != null){
            if (rvImageList.getAdapter() !=null){

            }
        }
    }


    @Override
    public void onAttach(Context context) {
        super.onAttach(context);

    }

    @Override
    public void onClick(View view) {
        if (this.lsnr != null){
            switch (view.getId()){
                case (R.id.btnRegister):
                    lsnr.registration();
                    break;
                case (R.id.btnAddImage):
                    lsnr.addImage();
                    break;
            }

        }else {

        }

    }


}
